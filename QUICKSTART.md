# ⚡ CPI Analytics System - クイックスタートガイド

> **🆕 Version 2.0** LinkedIn風ヒストグラム表示 & 月次YoY%分析対応  
> 3分で始める消費者物価指数分析システム - Joseph Brusuelas氏風の専門分析

## 🚀 3分間セットアップ

### ステップ1: 権限確認（30秒）
```sql
-- 必要最小限の権限確認
USE ROLE YOUR_ROLE;
SELECT * FROM FINANCE__ECONOMICS.CYBERSYN.BUREAU_OF_LABOR_STATISTICS_PRICE_ATTRIBUTES LIMIT 5;
```
✅ データが表示されれば権限OK

### ステップ2: アプリのデプロイ（1分）
1. Snowflakeウェブインターフェース → **「Streamlit」**
2. **「+ Streamlit App」** をクリック
3. **「Upload files」** → `cpi-analytics-app.py` をアップロード
4. アプリ名: **「CPI_Analytics_System_v2」**
5. **「Create app」** をクリック

### ステップ3: 初回動作確認（1分30秒）
1. アプリが自動で起動
2. サイドバーで **「ヒストグラム（前年同月比）」** を選択
3. 「📊 CPI分析ダッシュボード」が表示されることを確認
4. **LinkedIn風ヒストグラム** が読み込まれることを確認

**🎉 セットアップ完了！新機能が利用可能です**

---

## 🆕 新機能: 5分間クイックツアー

### 1. LinkedInスタイル ヒストグラム（2分）

#### Joseph Brusuelas風 分析設定
```
サイドバー設定:
├── 期間: 過去18ヶ月
├── 商品: Energy, Gasoline, Used cars and trucks
├── 表示: 🆕 ヒストグラム（前年同月比）
└── AI分析: Claude-3-5-Sonnet
```

**結果**: "The X.X% month over month increase was caused by..."風の分析

#### 操作手順
1. **サイドバー** → **「チャート表示設定」**
2. **「ヒストグラム（前年同月比）」** を選択 ← 🆕
3. 月次のYoY%変化が棒グラフで表示
4. LinkedIn投稿のようなプロフェッショナル表示

### 2. 月次YoY%詳細分析（2分）

#### 商品別詳細内訳設定
```
選択商品: ['Energy', 'Housing', 'Transportation'] (5個以下)
チェック: ✅ 📈 月別詳細内訳表示
期間: 過去24ヶ月
```

**結果**: 各商品の月次前年同月比を個別サブプロットで表示

#### 操作手順
1. 商品選択を **5個以下** に制限
2. **「📈 月別詳細内訳表示」** をチェック ← 🆕
3. 商品ごとの詳細YoY%チャートが表示
4. 個別のインフレ圧力分析が可能

### 3. エコノミスト級AI分析（1分）

#### 専門的分析の取得
```
設定:
├── AIモデル: Claude-3-5-Sonnet（推奨）
├── 分析商品: 主要CPIカテゴリ
└── 🆕 出力: Joseph Brusuelas氏風の専門分析
```

**結果**: 「連邦準備制度への政策的含意」など高度な経済解釈

---

## 📊 即使える分析パターン

### パターン1: 🆕 LinkedIn風 月次CPI分析
```python
# Joseph Brusuelas氏風の投稿作成
設定:
- 商品: ['Energy', 'Gasoline', 'Used cars and trucks', 'Food at home']
- 表示: ヒストグラム（前年同月比）← 🆕
- AI分析: Claude-3-5-Sonnet
- 詳細内訳: ON
- 目的: "US Dec 2024 CPI: The 0.4% month over month..."風分析

所要時間: 5分
用途: LinkedIn投稿、経済レポート
```

### パターン2: 🆕 金融政策分析（FRB向け）
```python
# 2%インフレ目標との乖離分析
設定:
- 商品: ['Core CPI', 'Housing', 'Services', 'Medical care']
- 表示: ヒストグラム（前年同月比）← 🆕
- 期間: 過去24ヶ月
- AI分析: 政策含意に焦点
- 詳細内訳: ON

所要時間: 7分
用途: 金融政策委員会資料、中央銀行分析
```

### パターン3: 🆕 短期変動分析（トレーダー向け）
```python
# 月次価格ショックの特定
設定:
- 商品: ['Energy', 'Transportation', 'Recreation']
- 表示: ヒストグラム（前月比）← 🆕
- 期間: 過去12ヶ月
- AI分析: Llama3.1-70b
- 焦点: 短期変動要因

所要時間: 4分
用途: 取引戦略、リスク管理
```

---

## 🔧 新機能の操作ガイド

### ヒストグラム表示の使い分け

#### 前年同月比ヒストグラム（推奨）
```
用途: 長期インフレトレンド分析
特徴: LinkedIn投稿のようなプロ仕様
設定: サイドバー > ヒストグラム（前年同月比）
適用: エコノミスト分析、政策評価
```

#### 前月比ヒストグラム
```
用途: 短期変動・季節性分析
特徴: 月次ショックの特定
設定: サイドバー > ヒストグラム（前月比）
適用: トレーディング、リスク管理
```

#### 従来のライン表示
```
用途: 長期トレンド把握
特徴: 時系列の流れを重視
設定: サイドバー > 従来のライン表示
適用: 歴史的分析、教育目的
```

### 月別詳細内訳の効果的な活用

#### 5商品以下での詳細分析
```
手順:
1. 重要商品を5個以下に厳選
2. 「📈 月別詳細内訳表示」をチェック
3. 個別サブプロットで詳細確認
4. 商品間の寄与度比較

効果:
- 個別商品のインフレ圧力把握
- 月次変動パターンの詳細分析
- 政策効果の商品別評価
```

---

## 🎯 プロフェッショナル活用法

### LinkedIn投稿作成（5分）

#### 手順
1. **最新CPIデータ**: 直近3ヶ月を設定
2. **主要商品選択**: Energy, Food, Housing, Transportation
3. **ヒストグラム表示**: 前年同月比選択
4. **AI分析実行**: Claude-3-5-Sonnet使用
5. **投稿内容作成**: AI分析結果を基に投稿作成

#### 投稿テンプレート
```
🇺🇸 US [Month] 2024 CPI: The [X.X]% month-over-month increase was driven by...

Key drivers:
📈 Energy: +[X.X]% YoY
🏠 Housing: +[X.X]% YoY  
🍎 Food: +[X.X]% YoY

Policy implications: [AI分析結果から抜粋]

#CPI #Inflation #Fed #Economics
```

### 金融政策分析レポート（10分）

#### 構成
1. **エグゼクティブサマリー**: メトリクス表示から
2. **ヒストグラム分析**: 前年同月比の視覚的分析
3. **詳細内訳**: 商品別月次YoY%分析
4. **AI経済分析**: 専門的解釈と政策提言
5. **データエクスポート**: 裏付けデータの添付

### 企業価格戦略分析（15分）

#### 業界特化分析
1. **関連商品選択**: 自社業界のCPIカテゴリ
2. **競合分析**: 類似商品の価格動向
3. **季節性分析**: 前月比ヒストグラムで把握
4. **AI洞察**: 価格設定への示唆取得
5. **戦略提案**: 分析結果の戦略への反映

---

## ❌ よくあるエラーと即解決

### 🆕 新機能関連エラー

#### "ヒストグラムが表示されない"
```
原因: YoY計算に必要な12ヶ月以上のデータ不足
解決: 開始日を最低13ヶ月前に設定
確認: データ頻度が「Monthly」になっているか
```

#### "月別詳細内訳が出ない"
```
原因: 商品選択数が5個を超過
解決: 商品選択を5個以下に制限
代替: 重要商品を優先して複数回分析
```

#### "AI分析が専門的でない"
```
原因: AIモデル選択が最適でない
解決: Claude-3-5-Sonnetに変更
設定: サイドバー > AIモデル選択
```

### 従来のエラー

#### "データ読み込みエラー"
```
権限確認:
GRANT USAGE ON DATABASE FINANCE__ECONOMICS TO ROLE YOUR_ROLE;
GRANT USAGE ON SCHEMA FINANCE__ECONOMICS.CYBERSYN TO ROLE YOUR_ROLE;
```

#### "Cortex AI使用不可"
```
権限確認:
GRANT USAGE ON DATABASE SNOWFLAKE TO ROLE YOUR_ROLE;
GRANT USAGE ON SCHEMA SNOWFLAKE.CORTEX TO ROLE YOUR_ROLE;
```

---

## 📈 分析結果の読み方

### 🆕 ヒストグラム分析の解釈

#### 前年同月比ヒストグラム
```
判読ポイント:
📊 棒の高さ: YoY%変化の大きさ
🎨 色の違い: 商品カテゴリの区別
📅 時系列: 月次でのインフレ推移
🎯 ゼロライン: インフレ/デフレの境界

経済的意味:
- 高い棒: 強いインフレ圧力
- 低い棒: 価格安定または下落
- 上昇トレンド: インフレ加速
- 下降トレンド: インフレ鈍化
```

#### 月別詳細内訳
```
分析観点:
📈 個別動向: 商品ごとのインフレ寄与
🔄 相関関係: 商品間の連動性
⚡ ショック: 突発的価格変動
🌊 季節性: 定期的変動パターン

政策含意:
- エネルギー主導: 供給ショック要因
- 住宅主導: 需要圧力要因
- 食品主導: 農業・気候要因
- サービス主導: 労働市場要因
```

### 🆕 AI分析の活用法

#### エコノミスト級解釈
```
AI分析の価値:
🎯 根本要因: 価格変動の主要ドライバー
📊 数値根拠: 具体的データに基づく分析
🏛️ 政策含意: 連邦準備制度への示唆
🔮 将来予測: 3-6ヶ月の見通し

実務活用:
- LinkedIn投稿の専門的内容
- レポートの分析セクション
- プレゼンテーションの解釈
- クライアント説明の根拠
```

---

## 🎯 次のステップ

### 短期（今週）
1. **基本操作習得**: 新しいヒストグラム表示に慣れる
2. **LinkedIn活用**: 月次CPI発表後の投稿作成
3. **データエクスポート**: 分析結果の保存・共有

### 中期（今月）
1. **分析パターン確立**: 業務に応じた定型分析の構築
2. **AI活用最適化**: 最適なモデル・プロンプトの特定
3. **レポート統合**: 既存レポートへの分析結果組み込み

### 長期（四半期）
1. **高度な分析**: 複数経済指標との組み合わせ分析
2. **予測モデル**: 機械学習を活用した予測分析
3. **ダッシュボード**: 定期モニタリング体制の構築

---

## 📞 サポート・リソース

### 🆕 新機能サポート
- **技術的問題**: IT部門またはSnowflakeサポート
- **操作方法**: 詳細README.mdの新機能セクション参照
- **分析手法**: [Joseph Brusuelas LinkedIn](https://www.linkedin.com/in/joseph-brusuelas-314a463/)

### 学習リソース
- **🆕 ヒストグラム分析**: [Plotly Bar Charts](https://plotly.com/python/bar-charts/)
- **経済分析手法**: [BLS CPI Documentation](https://www.bls.gov/cpi/)
- **LinkedIn投稿スタイル**: 著名エコノミストの投稿分析

### コミュニティ
- **🆕 機能要望**: GitHub Issues での新機能提案
- **ベストプラクティス**: 社内Slack #economics-analytics
- **使用例シェア**: 成功事例の共有・学習

---

**🎉 Version 2.0の新機能で、エコノミスト級のCPI分析を始めましょう！**

*Joseph Brusuelas氏のような専門的分析が、誰でも簡単に実行できます。* 